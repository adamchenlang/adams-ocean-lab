# ğŸš€ Adam's Zone - å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ“‹ å®Œæ•´æµç¨‹æ¦‚è§ˆ

```
åŸç½‘ç«™ â†’ HTTrackå¤åˆ¶ â†’ è½¬æ¢ä¸ºAstro â†’ éƒ¨ç½²åˆ°OCI â†’ ç»‘å®šåŸŸå â†’ é…ç½®SSL
```

---

## ğŸ¯ Step-by-Step æ‰§è¡Œæ­¥éª¤

### Step 1: åˆå§‹åŒ–é¡¹ç›® (5åˆ†é’Ÿ)

```bash
cd /Users/liangchen/work/hangout/blogger

# è¿è¡Œåˆå§‹åŒ–è„šæœ¬
./setup.sh

# ç­‰å¾…å®‰è£…å®Œæˆ...
```

**é¢„æœŸç»“æœ**: Astroé¡¹ç›®åˆ›å»ºå®Œæˆï¼Œä¾èµ–å®‰è£…å®Œæ¯•

---

### Step 2: å¤åˆ¶ç°æœ‰ç½‘ç«™å†…å®¹ (10-30åˆ†é’Ÿ)

```bash
# å®‰è£…HTTrackï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
brew install httrack

# è¿è¡Œè¿ç§»è„šæœ¬
./migrate-site.sh

# æŒ‰æç¤ºè¾“å…¥è¦å¤åˆ¶çš„ç½‘ç«™URL
# ä¾‹å¦‚: https://your-old-site.com
```

**é¢„æœŸç»“æœ**: ç½‘ç«™å†…å®¹ä¸‹è½½åˆ° `temp/original-site/` ç›®å½•

---

### Step 3: è½¬æ¢å†…å®¹ä¸ºMarkdown (5åˆ†é’Ÿ)

```bash
# å®‰è£…jsdom
npm install jsdom

# è¿è¡Œè½¬æ¢è„šæœ¬
node convert-to-markdown.js
```

**é¢„æœŸç»“æœ**: HTMLæ–‡ä»¶è½¬æ¢ä¸ºMarkdownï¼Œä¿å­˜åœ¨ `src/content/blog/`

---

### Step 4: æ•´ç†å†…å®¹å’Œèµ„æº (15-30åˆ†é’Ÿ)

```bash
# 1. å¤åˆ¶å›¾ç‰‡å’Œé™æ€èµ„æº
cp -r temp/original-site/images public/images
cp -r temp/original-site/assets public/assets

# 2. æ‰‹åŠ¨æ£€æŸ¥å’Œç¼–è¾‘Markdownæ–‡ä»¶
# ä½¿ç”¨VS Codeæˆ–å…¶ä»–ç¼–è¾‘å™¨æ‰“å¼€ src/content/blog/
# è°ƒæ•´frontmatterï¼ˆæ ‡é¢˜ã€æè¿°ã€æ ‡ç­¾ã€æ—¥æœŸï¼‰

# 3. æ›´æ–°Astroé…ç½®
# ç¼–è¾‘ astro.config.mjsï¼Œè®¾ç½®siteä¸º https://laputasky.com
```

---

### Step 5: æœ¬åœ°æµ‹è¯• (10åˆ†é’Ÿ)

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# åœ¨æµè§ˆå™¨ä¸­è®¿é—® http://localhost:4321
# æ£€æŸ¥:
# - æ‰€æœ‰é¡µé¢æ­£å¸¸æ˜¾ç¤º
# - å›¾ç‰‡æ­£å¸¸åŠ è½½
# - é“¾æ¥æ­£å¸¸å·¥ä½œ
# - å“åº”å¼è®¾è®¡æ­£å¸¸
```

---

### Step 6: Dockeræœ¬åœ°æµ‹è¯• (5åˆ†é’Ÿ)

```bash
# æ„å»ºå¹¶è¿è¡ŒDockerå®¹å™¨
docker-compose up -d

# è®¿é—® http://localhost:3000
# éªŒè¯ç”Ÿäº§ç¯å¢ƒé…ç½®

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢å®¹å™¨
docker-compose down
```

---

### Step 7: é…ç½®GoDaddy DNS (5åˆ†é’Ÿ)

1. ç™»å½• [GoDaddy DNSç®¡ç†](https://dcc.godaddy.com/manage/laputasky.com/dns)

2. æ·»åŠ Aè®°å½•:
   ```
   ç±»å‹: A
   åç§°: @
   å€¼: 129.213.149.112
   TTL: 600
   ```

3. æ·»åŠ CNAMEè®°å½•ï¼ˆå¯é€‰ï¼‰:
   ```
   ç±»å‹: CNAME
   åç§°: www
   å€¼: laputasky.com
   TTL: 600
   ```

4. ç­‰å¾…DNSä¼ æ’­ï¼ˆ5åˆ†é’Ÿ-2å°æ—¶ï¼‰

5. éªŒè¯DNS:
   ```bash
   dig laputasky.com
   # åº”è¯¥è¿”å› 129.213.149.112
   ```

---

### Step 8: éƒ¨ç½²åˆ°OCI (10åˆ†é’Ÿ)

```bash
# éƒ¨ç½²åšå®¢
./deploy.sh

# ç­‰å¾…éƒ¨ç½²å®Œæˆ...
# è®¿é—® http://129.213.149.112:8081 éªŒè¯
```

**é¢„æœŸç»“æœ**: åšå®¢æˆåŠŸéƒ¨ç½²åˆ°OCIï¼Œé€šè¿‡IPå¯ä»¥è®¿é—®

---

### Step 9: é…ç½®Nginxå’ŒSSL (15åˆ†é’Ÿ)

```bash
# æ–¹å¼1: ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæ¨èï¼‰
./setup-ssl.sh

# æ–¹å¼2: æ‰‹åŠ¨é…ç½®
ssh opc@129.213.149.112

# å®‰è£…Nginxå’ŒCertbot
sudo yum install -y nginx certbot python3-certbot-nginx

# åˆ›å»ºNginxé…ç½®
sudo vi /etc/nginx/conf.d/laputasky.conf
# ç²˜è´´é…ç½®ï¼ˆè§MIGRATION_AND_DOMAIN_SETUP.mdï¼‰

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯Nginx
sudo systemctl restart nginx

# è·å–SSLè¯ä¹¦
sudo certbot --nginx -d laputasky.com -d www.laputasky.com

# æŒ‰æç¤ºè¾“å…¥é‚®ç®±å¹¶åŒæ„æ¡æ¬¾
```

**é¢„æœŸç»“æœ**: SSLè¯ä¹¦è·å–æˆåŠŸï¼ŒHTTPSå¯ä»¥è®¿é—®

---

### Step 10: æœ€ç»ˆéªŒè¯ (5åˆ†é’Ÿ)

```bash
# 1. æ£€æŸ¥HTTPSè®¿é—®
curl -I https://laputasky.com

# 2. åœ¨æµè§ˆå™¨ä¸­è®¿é—®
# https://laputasky.com
# https://www.laputasky.com

# 3. éªŒè¯SSLè¯ä¹¦
# æµè§ˆå™¨åœ°å€æ åº”æ˜¾ç¤ºé”å›¾æ ‡

# 4. è¿è¡Œå¥åº·æ£€æŸ¥
./health-check.sh

# 5. SSLè¯„çº§æµ‹è¯•ï¼ˆå¯é€‰ï¼‰
# è®¿é—®: https://www.ssllabs.com/ssltest/analyze.html?d=laputasky.com
```

---

## ğŸ“Š å®Œæ•´æ—¶é—´ä¼°ç®—

| æ­¥éª¤ | æ—¶é—´ | è¯´æ˜ |
|------|------|------|
| 1. åˆå§‹åŒ–é¡¹ç›® | 5åˆ†é’Ÿ | è‡ªåŠ¨åŒ– |
| 2. å¤åˆ¶ç½‘ç«™ | 10-30åˆ†é’Ÿ | å–å†³äºç½‘ç«™å¤§å° |
| 3. è½¬æ¢å†…å®¹ | 5åˆ†é’Ÿ | è‡ªåŠ¨åŒ– |
| 4. æ•´ç†å†…å®¹ | 15-30åˆ†é’Ÿ | éœ€è¦æ‰‹åŠ¨è°ƒæ•´ |
| 5. æœ¬åœ°æµ‹è¯• | 10åˆ†é’Ÿ | éªŒè¯åŠŸèƒ½ |
| 6. Dockeræµ‹è¯• | 5åˆ†é’Ÿ | éªŒè¯å®¹å™¨ |
| 7. DNSé…ç½® | 5åˆ†é’Ÿ + ç­‰å¾… | DNSä¼ æ’­éœ€è¦æ—¶é—´ |
| 8. éƒ¨ç½²OCI | 10åˆ†é’Ÿ | è‡ªåŠ¨åŒ– |
| 9. SSLé…ç½® | 15åˆ†é’Ÿ | åŠè‡ªåŠ¨åŒ– |
| 10. æœ€ç»ˆéªŒè¯ | 5åˆ†é’Ÿ | æµ‹è¯• |
| **æ€»è®¡** | **1.5-2å°æ—¶** | ä¸å«DNSç­‰å¾…æ—¶é—´ |

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### æœ¬åœ°å¼€å‘
```bash
npm run dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build        # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run preview      # é¢„è§ˆæ„å»ºç»“æœ
```

### Docker
```bash
docker-compose up -d              # å¯åŠ¨å®¹å™¨
docker-compose logs -f            # æŸ¥çœ‹æ—¥å¿—
docker-compose down               # åœæ­¢å®¹å™¨
docker-compose restart            # é‡å¯å®¹å™¨
```

### éƒ¨ç½²
```bash
./deploy.sh          # éƒ¨ç½²åˆ°OCI
./health-check.sh    # å¥åº·æ£€æŸ¥
./rollback.sh        # å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬
```

### OCIæœåŠ¡å™¨ç®¡ç†
```bash
# SSHè¿æ¥
ssh opc@129.213.149.112

# æŸ¥çœ‹å®¹å™¨
docker ps | grep adams-zone

# æŸ¥çœ‹æ—¥å¿—
docker logs -f adams-zone-blog

# é‡å¯å®¹å™¨
docker restart adams-zone-blog

# æŸ¥çœ‹Nginxæ—¥å¿—
sudo tail -f /var/log/nginx/laputasky_access.log
sudo tail -f /var/log/nginx/laputasky_error.log

# æ£€æŸ¥SSLè¯ä¹¦
sudo certbot certificates

# æµ‹è¯•è¯ä¹¦ç»­æœŸ
sudo certbot renew --dry-run
```

---

## ğŸ“š æ–‡æ¡£ç´¢å¼•

- **DEVELOPMENT_PLAN.md** - å®Œæ•´å¼€å‘è®¡åˆ’
- **MIGRATION_AND_DOMAIN_SETUP.md** - è¿ç§»å’ŒåŸŸåé…ç½®è¯¦ç»†æŒ‡å—
- **README.md** - é¡¹ç›®è¯´æ˜
- **OCI_CONFIG.md** - OCIé…ç½®å‚è€ƒ

---

## âœ… æ£€æŸ¥æ¸…å•

### å¼€å‘é˜¶æ®µ
- [ ] é¡¹ç›®åˆå§‹åŒ–å®Œæˆ
- [ ] åŸç½‘ç«™å†…å®¹å¤åˆ¶å®Œæˆ
- [ ] å†…å®¹è½¬æ¢ä¸ºMarkdown
- [ ] é™æ€èµ„æºå¤åˆ¶å®Œæˆ
- [ ] æœ¬åœ°å¼€å‘æœåŠ¡å™¨è¿è¡Œæ­£å¸¸
- [ ] Dockerå®¹å™¨æœ¬åœ°æµ‹è¯•é€šè¿‡

### éƒ¨ç½²é˜¶æ®µ
- [ ] GoDaddy DNSé…ç½®å®Œæˆ
- [ ] DNSè§£æç”Ÿæ•ˆ
- [ ] åšå®¢éƒ¨ç½²åˆ°OCIæˆåŠŸ
- [ ] é€šè¿‡IPå¯ä»¥è®¿é—®
- [ ] Nginxé…ç½®å®Œæˆ
- [ ] SSLè¯ä¹¦è·å–æˆåŠŸ

### æœ€ç»ˆéªŒè¯
- [ ] https://laputasky.com å¯ä»¥è®¿é—®
- [ ] https://www.laputasky.com å¯ä»¥è®¿é—®
- [ ] HTTPè‡ªåŠ¨é‡å®šå‘åˆ°HTTPS
- [ ] æµè§ˆå™¨æ˜¾ç¤ºå®‰å…¨é”å›¾æ ‡
- [ ] æ‰€æœ‰é¡µé¢æ­£å¸¸åŠ è½½
- [ ] å›¾ç‰‡å’Œèµ„æºæ­£å¸¸æ˜¾ç¤º
- [ ] ç§»åŠ¨ç«¯æ˜¾ç¤ºæ­£å¸¸
- [ ] SSL Labsè¯„çº§Aæˆ–A+
- [ ] é¡µé¢åŠ è½½é€Ÿåº¦ < 2ç§’

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

### é—®é¢˜æ’æŸ¥
1. æŸ¥çœ‹ **MIGRATION_AND_DOMAIN_SETUP.md** çš„æ•…éšœæ’æŸ¥éƒ¨åˆ†
2. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶
3. è¿è¡Œå¥åº·æ£€æŸ¥è„šæœ¬

### å¸¸è§é—®é¢˜

**Q: DNSæ²¡æœ‰ç”Ÿæ•ˆæ€ä¹ˆåŠï¼Ÿ**  
A: DNSä¼ æ’­éœ€è¦æ—¶é—´ï¼Œé€šå¸¸5åˆ†é’Ÿåˆ°2å°æ—¶ã€‚ä½¿ç”¨ `dig laputasky.com @8.8.8.8` æ£€æŸ¥ã€‚

**Q: SSLè¯ä¹¦è·å–å¤±è´¥ï¼Ÿ**  
A: ç¡®ä¿DNSå·²è§£æåˆ°æ­£ç¡®IPï¼Œ80ç«¯å£å¼€æ”¾ï¼ŒNginxé…ç½®æ­£ç¡®ã€‚

**Q: ç½‘ç«™æ˜¾ç¤º502é”™è¯¯ï¼Ÿ**  
A: æ£€æŸ¥Dockerå®¹å™¨æ˜¯å¦è¿è¡Œï¼š`docker ps | grep adams-zone`

**Q: å›¾ç‰‡æ— æ³•æ˜¾ç¤ºï¼Ÿ**  
A: æ£€æŸ¥å›¾ç‰‡è·¯å¾„ï¼Œç¡®ä¿å¤åˆ¶åˆ°äº† `public/` ç›®å½•ã€‚

---

## ğŸ‰ å®Œæˆå

æ­å–œï¼ä½ çš„åšå®¢ç°åœ¨å·²ç»ï¼š
- âœ… ä½¿ç”¨ç°ä»£åŒ–çš„Astroæ¡†æ¶
- âœ… éƒ¨ç½²åœ¨Oracle Cloud
- âœ… ç»‘å®šäº†è‡ªå®šä¹‰åŸŸå
- âœ… é…ç½®äº†å…è´¹çš„SSLè¯ä¹¦
- âœ… æ”¯æŒè‡ªåŠ¨HTTPSé‡å®šå‘
- âœ… è¯ä¹¦è‡ªåŠ¨ç»­æœŸ

äº«å—ä½ çš„æ–°åšå®¢å§ï¼ğŸš€

---

**åŸŸå**: laputasky.com  
**æœåŠ¡å™¨**: 129.213.149.112  
**æ¡†æ¶**: Astro  
**SSL**: Let's Encrypt  
**åˆ›å»ºæ—¥æœŸ**: 2025-10-20
